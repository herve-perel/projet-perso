{% extends 'base.html.twig' %}


{% block title %}
	{{ film.title }}
{% endblock %}


{% block body %}
	<div class="container">
		<h1 class="text-center">Detail du film</h1>
		<div class="global-card bg-dark rounded">
			<div class="media">
				<div class="card d-flex flex-row bg-secondary text-secondary bg-dark">
					<div class="bg-secondary">
						<img class="img-film" src="{{ vich_uploader_asset(film) }}" alt="{{ film.title }} poster">
					</div>
					<div class="media-body">
						<div class="d-flex flex-row align-items-center  p-3">
							<h2>{{ film.title }}</h2>
							<p class="mx-3 my-2">{{ film.year }}</p>
							<p class="mx-3 my-2">{{ film.category }}</p>
						</div>
						<div class="p-3">
							<p>Réalisateur
							</p>
							<div class="d-flex flex-row align-items-center">
								<img class="img-director bg-secondary mx-3 rounded" src="{{ vich_uploader_asset(film.director) }}" alt="{{ film.director.name }} poster">
								<p>{{ film.director.name }}</p>
							</div>
							<p class="mt-3">Acteurs</p>
							{% for actor in film.actors %}
								<img class="img-director bg-secondary mx-3 rounded" src="{{ vich_uploader_asset(actor) }}">
								<a class="text-secondary" href="{{ path('actor_show', {'slug': actor.slug})}}">{{ actor.name}}</a>
							{% else %}
								<p>Aucun acteur pour ce film</p>
							{% endfor %}
						</div>
					</div>
				</div>
			</div>

			<div class="bottom text-secondary p-3">
				<h2>Synopsis</h2>
				<p>{{ film.synopsis }}</p>
				<a class="btn btn-secondary mx-3" href="{{ path('film_index') }}">
					Retour à la liste des films
				</a>
			</div>
		</div>
		{% if app.user %}
			<a class="btn btn-primary mt-3" href="{{ path('film_edit', { slug: film.slug }) }}">
				Modifier le film
			</a>
			{{ include('film/_delete_form.html.twig')}}
		{% endif %}
	</div>
{% endblock %}
